# Audio Device Priority Configuration
# Sink priorities must be below 1500 to prevent monitor from becoming default source
#
# Sinks (output):
#   Jabra: 1450 (primary)
#   Avantree: 1400 (fallback)
#   Built-in: ~1000 (last resort)
#
# Sources (input):
#   Jabra: 3000 (primary)
#   Avantree: 2500 (fallback)
#   Built-in: ~2000 (last resort)

monitor.alsa.rules = [
  # Jabra output (sink) - HIGHEST priority
  # Keep below 1500 to prevent monitor from becoming default source
  {
    matches = [
      {
        node.name = "~alsa_output.usb-0b0e_Jabra_Link_380.*analog-stereo.*"
      }
    ]
    actions = {
      update-props = {
        priority.driver = 1450
        priority.session = 1450
        node.description = "Jabra Link 380 Audio Output (Primary)"
      }
    }
  }

  # Jabra input (source) - HIGHEST priority
  {
    matches = [
      {
        node.name = "~alsa_input.usb-0b0e_Jabra_Link_380.*mono-fallback.*"
      }
    ]
    actions = {
      update-props = {
        priority.driver = 3000
        priority.session = 3000
        node.description = "Jabra Link 380 Microphone (Primary)"
      }
    }
  }

  # Avantree output (sink) - FALLBACK priority
  # Keep below 1500 to prevent monitor from becoming default source
  {
    matches = [
      {
        node.name = "~alsa_output.usb-Avantree_Avantree_C81_PC.*analog-stereo.*"
      }
    ]
    actions = {
      update-props = {
        priority.driver = 1400
        priority.session = 1400
        node.description = "Avantree C81(PC) Audio Output (Fallback)"
      }
    }
  }

  # Avantree input (source) - FALLBACK priority
  {
    matches = [
      {
        node.name = "~alsa_input.usb-Avantree_Avantree_C81_PC.*mono-fallback.*"
      }
    ]
    actions = {
      update-props = {
        priority.driver = 2500
        priority.session = 2500
        node.description = "Avantree C81(PC) Microphone (Fallback)"
      }
    }
  }
]
