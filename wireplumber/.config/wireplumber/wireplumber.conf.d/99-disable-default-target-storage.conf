# Disable WirePlumber default target storage to force priority-based selection
#
# Problem: WirePlumber's node.restore-default-targets=true stores specific device
# instances as defaults, which conflicts with our priority-based device hierarchy:
# 1. Avantree (Priority 2000) - Primary when available
# 2. Jabra (Priority 1500) - Fallback when Avantree unavailable
# 3. Built-in (Priority ~1000) - Last resort
#
# With target storage enabled, WirePlumber "remembers" a specific Jabra device
# as default, but when that exact device isn't connected and Avantree is available,
# it falls back to built-in audio instead of using priority rules to select Avantree.
#
# Solution: Disable target storage so WirePlumber always selects the highest
# priority available device instead of trying to restore stored preferences.

wireplumber.settings = {
  node.restore-default-targets = false
}