---
- name: Install mako notification daemon
  become: true
  apt:
    pkg:
      - mako-notifier
      - libnotify-bin
      - stow
    state: present

- name: Ensure config folder exists
  file:
    path: ~/.config/mako
    state: directory

- name: Create symlinks into dotfiles
  command: stow --target ~/ mako
  args:
    chdir: ~/code/dotfiles
  changed_when: false  # command module always shows changed; stow is idempotent, failures still detected via exit code
